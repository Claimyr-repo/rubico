/**
 * rubico v1.6.25
 * https://github.com/a-synchronous/rubico
 * (c) 2019-2021 Richard Tong
 * rubico may be freely distributed under the MIT license.
 */

!function(n,t){"object"==typeof module?module.exports=t:"function"==typeof define?define((()=>t)):n.reduce=t}("object"==typeof globalThis?globalThis:this,function(){"use strict";const n=n=>null!=n&&"function"==typeof n.then,t=Symbol.for("placeholder"),e=function(n,e,o,r){return e==t?((n,t,e)=>function(o){return n(o,t,e)})(n,o,r):o==t?((n,t,e)=>function(o){return n(t,o,e)})(n,e,r):((n,t,e)=>function(o){return n(t,e,o)})(n,e,o)},o=function(n,e,o,r){return e==t?((n,t,e)=>function(...o){return n(o,t,e)})(n,o,r):o==t?((n,t,e)=>function(...o){return n(t,o,e)})(n,e,r):((n,t,e)=>function(...o){return n(t,e,o)})(n,e,o)},r=Array.isArray,u=Object.values,c=Object.prototype.toString,i=n=>c.call(n),f=async function(t,e,o){let r=t.next();if(r.done)return o;for(;!r.done;)o=e(o,r.value),n(o)&&(o=await o),r=t.next();return o},a=function(o,r,u){let c=o.next();if(c.done)return u;for(void 0===u&&(u=c.value,c=o.next());!c.done;){if(u=r(u,c.value),n(u))return u.then(e(f,o,r,t));c=o.next()}return u},l=async function(n,t,e){let o=await n.next();if(o.done)return e;for(void 0===e&&(e=o.value,o=await n.next());!o.done;)e=await t(e,o.value),o=await n.next();return e},y=Symbol.iterator,d=Symbol.asyncIterator,s=function(n,e,o){return e==t?((n,t)=>function(e){return n(e,t)})(n,o):((n,t)=>function(e){return n(t,e)})(n,e)},p=async function(t,e,o,r){const u=t.length;for(;++r<u;)o=e(o,t[r]),n(o)&&(o=await o);return o},h=function(e,o,r){const u=e.length;let c=-1;for(void 0===r&&(r=e[++c]);++c<u;)if(r=o(r,e[c]),n(r))return r.then((i=p,a=o,l=t,y=c,(f=e)==t?((n,t,e,o)=>function(r){return n(r,t,e,o)})(i,a,l,y):a==t?((n,t,e,o)=>function(r){return n(t,r,e,o)})(i,f,l,y):l==t?((n,t,e,o)=>function(r){return n(t,e,r,o)})(i,f,a,y):((n,t,e,o)=>function(r){return n(t,e,o,r)})(i,f,a,l)));var i,f,a,l,y;return r},b=(n,t)=>function(...e){return t(n(...e))},v=(e,o)=>function(r,u){const c=e(r,u);return n(c)?c.then(s(o,t,u)):o(c,u)},x=function(n,c,f){const p=n[0];return r(p)?h(p,c,f):"function"==typeof p?"[object GeneratorFunction]"==i(p)?((n,o,r)=>b(n,e(a,t,o,r)))(p,c,f):(n=>"[object AsyncGeneratorFunction]"==i(n))(p)?((n,o,r)=>b(n,e(l,t,o,r)))(p,c,f):o(x,t,1==n.length?v(c,p):n.reduce(v,c),f):null==p?void 0===f?s(c,p,t):c(f,p):"function"==typeof p[y]?a(p[y](),c,f):"function"==typeof p[d]?l(p[d](),c,f):"function"==typeof p.reduce?p.reduce(c,f):"function"==typeof p.chain?p.chain(s(c,f,t)):"function"==typeof p.flatMap?p.flatMap(s(c,f,t)):p.constructor==Object?h(u(p),c,f):void 0===f?s(c,p,t):c(f,p)};return function(r,u){return"function"==typeof u?function(...o){const c=u(...o);return n(c)?c.then(e(x,o,r,t)):x(o,r,c)}:o(x,t,r,u)}}());
