/**
 * rubico v1.6.28
 * https://github.com/a-synchronous/rubico
 * (c) 2019-2021 Richard Tong
 * rubico may be freely distributed under the MIT license.
 */
const EmptyMap=()=>new Map,isPromise=r=>null!=r&&"function"==typeof r.then,__=Symbol.for("placeholder"),curry3ResolveArg0=(r,e,n)=>function(t){return r(t,e,n)},curry3ResolveArg1=(r,e,n)=>function(t){return r(e,t,n)},curry3ResolveArg2=(r,e,n)=>function(t){return r(e,n,t)},curry3=function(r,e,n,t){return e==__?curry3ResolveArg0(r,n,t):n==__?curry3ResolveArg1(r,e,t):curry3ResolveArg2(r,e,n)},curryArgs3ResolveArgs0=(r,e,n)=>function(...t){return r(t,e,n)},curryArgs3ResolveArgs1=(r,e,n)=>function(...t){return r(e,t,n)},curryArgs3ResolveArgs2=(r,e,n)=>function(...t){return r(e,n,t)},curryArgs3=function(r,e,n,t){return e==__?curryArgs3ResolveArgs0(r,n,t):n==__?curryArgs3ResolveArgs1(r,e,t):curryArgs3ResolveArgs2(r,e,n)},isArray=Array.isArray,objectValues=Object.values,objectProto=Object.prototype,nativeObjectToString=objectProto.toString,objectToString=r=>nativeObjectToString.call(r),generatorFunctionTag="[object GeneratorFunction]",isGeneratorFunction=r=>objectToString(r)==generatorFunctionTag,asyncGeneratorFunctionTag="[object AsyncGeneratorFunction]",isAsyncGeneratorFunction=r=>objectToString(r)==asyncGeneratorFunctionTag,iteratorReduceAsync=async function(r,e,n){let t=r.next();if(t.done)return n;for(;!t.done;)n=e(n,t.value),isPromise(n)&&(n=await n),t=r.next();return n},iteratorReduce=function(r,e,n){let t=r.next();if(t.done)return n;for(void 0===n&&(n=t.value,t=r.next());!t.done;){if(n=e(n,t.value),isPromise(n))return n.then(curry3(iteratorReduceAsync,r,e,__));t=r.next()}return n},asyncIteratorReduce=async function(r,e,n){let t=await r.next();if(t.done)return n;for(void 0===n&&(n=t.value,t=await r.next());!t.done;)n=await e(n,t.value),t=await r.next();return n},symbolIterator=Symbol.iterator,symbolAsyncIterator=Symbol.asyncIterator,curry2ResolveArg0=(r,e)=>function(n){return r(n,e)},curry2ResolveArg1=(r,e)=>function(n){return r(e,n)},curry2=function(r,e,n){return e==__?curry2ResolveArg0(r,n):curry2ResolveArg1(r,e)},curry4ResolveArg0=(r,e,n,t)=>function(o){return r(o,e,n,t)},curry4ResolveArg1=(r,e,n,t)=>function(o){return r(e,o,n,t)},curry4ResolveArg2=(r,e,n,t)=>function(o){return r(e,n,o,t)},curry4ResolveArg3=(r,e,n,t)=>function(o){return r(e,n,t,o)},curry4=function(r,e,n,t,o){return e==__?curry4ResolveArg0(r,n,t,o):n==__?curry4ResolveArg1(r,e,t,o):t==__?curry4ResolveArg2(r,e,n,o):curry4ResolveArg3(r,e,n,t)},arrayReduceAsync=async function(r,e,n,t){const o=r.length;for(;++t<o;)n=e(n,r[t]),isPromise(n)&&(n=await n);return n},arrayReduce=function(r,e,n){const t=r.length;let o=-1;for(void 0===n&&(n=r[++o]);++o<t;)if(n=e(n,r[o]),isPromise(n))return n.then((c=arrayReduceAsync,i=e,s=__,y=o,(u=r)==__?curry4ResolveArg0(c,i,s,y):i==__?curry4ResolveArg1(c,u,s,y):s==__?curry4ResolveArg2(c,u,i,y):curry4ResolveArg3(c,u,i,s)));var c,u,i,s,y;return n},funcConcatSync=(r,e)=>function(...n){return e(r(...n))},generatorFunctionReduce=(r,e,n)=>funcConcatSync(r,curry3(iteratorReduce,__,e,n)),asyncGeneratorFunctionReduce=(r,e,n)=>funcConcatSync(r,curry3(asyncIteratorReduce,__,e,n)),reducerConcat=(r,e)=>function(n,t){const o=r(n,t);return isPromise(o)?o.then(curry2(e,__,t)):e(o,t)},genericReduce=function(r,e,n){const t=r[0];return isArray(t)?arrayReduce(t,e,n):"function"==typeof t?objectToString(t)==generatorFunctionTag?generatorFunctionReduce(t,e,n):isAsyncGeneratorFunction(t)?asyncGeneratorFunctionReduce(t,e,n):curryArgs3(genericReduce,__,1==r.length?reducerConcat(e,t):r.reduce(reducerConcat,e),n):null==t?void 0===n?curry2(e,t,__):e(n,t):"function"==typeof t[symbolIterator]?iteratorReduce(t[symbolIterator](),e,n):"function"==typeof t[symbolAsyncIterator]?asyncIteratorReduce(t[symbolAsyncIterator](),e,n):"function"==typeof t.reduce?t.reduce(e,n):"function"==typeof t.chain?t.chain(curry2(e,n,__)):"function"==typeof t.flatMap?t.flatMap(curry2(e,n,__)):t.constructor==Object?arrayReduce(objectValues(t),e,n):void 0===n?curry2(e,t,__):e(n,t)},reduce=function(r,e){return"function"==typeof e?function(...n){const t=e(...n);return isPromise(t)?t.then(curry3(genericReduce,n,r,__)):genericReduce(n,r,t)}:curryArgs3(genericReduce,__,r,e)},group=function(r,e,n){const t=r.get(e);return null==t?r.set(e,[n]):t.push(n),r},groupByProperty=r=>function(e,n){return group(e,n[r],n)},groupByResolver=r=>function(e,n){const t=r(n);return isPromise(t)?t.then(curry3(group,e,__,n)):group(e,t,n)},groupBy=r=>{return reduce("function"==typeof r?(n=r,function(r,e){const t=n(e);return isPromise(t)?t.then(curry3(group,r,__,e)):group(r,t,e)}):(e=r,function(r,n){return group(r,n[e],n)}),EmptyMap);var e,n};export default groupBy;
